<!-- index.html -->
{% extends 'base.html' %}

{% load static %}
{% block title %}Coolest Movie Search{% endblock %}

{% block content %}
    <div class="row justify-content-center pt-3">
        <div class="col-12 text-center mb-3">
            <div id="slideshow" class="position-relative w-100 h-100 rounded-2 opacity-75">
                {% for movie in results %}
                    <div class="slide" style="background-image: url('https://image.tmdb.org/t/p/w500{{ movie.poster_path }}');"></div>
                {% endfor %}
                <div class="text-overlay">
                    <h1>Coolest Movie Search</h1>
                    <h3>Movies currently in theaters.</h3>
                </div>
            </div>
        </div>
    </div>
    <div class="row justify-content-center card-container">
        {% for movie in results %}
            <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-2">
                <a href="{% url 'moviedetails:movie_details' movie.id %}" 
                   class="text-decoration-none">
                <div class="card h-100 shadow-lg custom-card bg-secondary bg-gradient" style="--bs-bg-opacity: .3;">
                    <img src="https://image.tmdb.org/t/p/w500{{ movie.poster_path }}" alt="{{ movie.title }} poster" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title fw-light fs-6">{{ movie.title }}</h5>
                    </div>
                </div>
                </a>        
            </div>
        {% endfor %}
    </div>
    <script src="{% static 'js/slideshow.js' %}"></script>
{% endblock %}